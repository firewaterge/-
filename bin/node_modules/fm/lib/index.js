
/*
 * configuration of module
 */
const crypto = require('crypto');
const fs = require('fs');

/* should be a absolute path */
let path;

/* should be a hash function like md5 */
let hash = function (text){
    return crypto.createHash('md5').update(text).digest('hex');
};

let fm = module.exports = function fm(config){
    if(config){
        path = config.path;
        hash = config.hash;
    }

    return fm;
};

fm.store = function(fileData,callback){
    var fileName = hash('fileData');

    fs.writeFile(fileName,fileData,function (err){
        if(err) callback(err);

        callback(null);
    });
}

fm.getPath = function(fileName){
}

fm.delete = function(fileName){
}
